using Nitra;
using Nitra.Runtime;
using Nitra.Declarations;
using MiniCAst;

map syntax MiniCSyntax.CompilationUnit -> CompilationUnit
{
  TopDeclarations -> TopDeclarations;
}

map syntax MiniCSyntax.TopDeclaration -> TopDeclaration
{
  | VarDeclaration -> VarDeclaration 
	{
	  match (VarDeclaration) { Scalar(_, name) -> name | Array(_, name) -> name } -> Name;
	}
  | FunDeclaration -> FunDeclaration 
    {
	  Name = Name;
	}
}